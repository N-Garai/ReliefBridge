{% extends "base.html" %}
{% block content %}
<div class="container-fluid p-0"><div id="map" style="height:calc(100vh - 56px);"></div></div>
{% endblock %}
{% block js %}
<script>
  const map = L.map('map').setView([37.7749, -122.4194], 12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
  {% for r in requests %}
    L.marker([{{r.latitude}}, {{r.longitude}}]).bindPopup('<strong>{{r.user_name}}</strong><br>{{r.request_type}}<br>{{r.priority}}').addTo(map);
  {% endfor %}
</script>
{% endblock %}